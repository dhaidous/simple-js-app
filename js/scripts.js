var pokemonRepository = function () { var e = []; function t() { return e } function n(t) { e.push(t) } function o(e) { var t = document.querySelector(".pokemon-list"), n = document.createElement("li"), o = document.createElement("button"); o.innerText = e.name, o.classList.add("pokemon-button", "btn", "btn-primary", "mb-2"), o.setAttribute("data-toggle", "modal"), o.setAttribute("data-target", "#pokemonModal"), n.classList.add("list-group-item"), n.appendChild(o), t.appendChild(n), o.addEventListener("click", function () { i(e) }) } function i(e) { c(e).then(function () { a(e.name, "Height: " + e.height, e.imgUrl) }).catch(function (e) { console.error(e) }) } function l() { return fetch("https://pokeapi.co/api/v2/pokemon/").then(function (e) { return e.json() }).then(function (e) { e.results.forEach(function (e) { n({ name: e.name, detailsUrl: e.url }) }) }).catch(function (e) { console.error(e) }) } function c(e) { var t = e.detailsUrl; return fetch(t).then(function (e) { return e.json() }).then(function (t) { e.imgUrl = t.sprites.front_default, e.height = t.height, console.log(e.imgUrl) }).catch(function (e) { console.error(e) }) } return { getAll: t, add: n, addListItem: o, LoadList: l, loadDetails: c } }(); pokemonRepository.LoadList().then(function () { pokemonRepository.getAll().forEach(function (e) { pokemonRepository.addListItem(e) }) }); function showModal(e, t, n) { document.getElementById("modalName").innerText = e, document.getElementById("modalHeight").innerText = t, document.getElementById("modalImage").src = n } function hideModal() { $("#pokemonModal").modal("hide") }
